<!DOCTYPE html>
<html>
<head>
    <title>Login Conta Azul</title>
</head>
<body>

    <button id="authButton">Conectar Conta Azul</button>

    <script>
    document.addEventListener("DOMContentLoaded", function () {

        const button = document.getElementById('authButton');

        if (!button) {
            console.log("Botão não encontrado");
            return;
        }

        button.addEventListener('click', function () {

            const CLIENT_ID = '6h4brsaeu3rsm057t47eegmkvs';

            const REDIRECT_URI = encodeURIComponent(
                'https://api-contaazul.onrender.com/oauth2/callback'
            );

            const SCOPE = encodeURIComponent(
                'openid profile aws.cognito.signin.user.admin'
            );

            const STATE = 'saopaulo123';

            const authorizationUrl =
                `https://auth.contaazul.com/oauth2/authorize` +
                `?response_type=code` +
                `&client_id=${CLIENT_ID}` +
                `&redirect_uri=${REDIRECT_URI}` +
                `&scope=${SCOPE}` +
                `&state=${STATE}`;

            window.location.href = authorizationUrl;
        });

    });
    </script>

</body>
</html>